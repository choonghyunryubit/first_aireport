---
title: "한국 여론조사 시장의 현황"
subtitle: "AI 데스크 리서치"
date: "`r format(Sys.Date(), '%Y-%m-%d')`"
author:
  - name: 홍길동
    affiliation: 조원씨앤아이 기획팀
    email: research@jowonci.com
params:    
  reportno: "2025-001"
  url: "https://www.jowonci.com"
output:
  bitReport::page_simpled:
    back_html: true
    theme: blue
paged-footnotes: true
links-to-footnotes: true
#knit: pagedown::chrome_print
---

```{r setup, include=FALSE, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      fig.retina = 2,
                      fig.showtext = TRUE,
                      dev = "ragg_png",
                      dpi = 300)
library(tidyverse)
library(chat2doc)

set_api_key("openai", "Your-API-Key-Here")
```

```{r create-reportci, echo=FALSE, message=FALSE, warning=FALSE}
str_css <- ""

##==============================================================================
## 좌측상단 로고 이미지 설정 정의
##==============================================================================
## 첫 페이지 좌측 상단의 로고 이미지를 지정합니다.
## 지정하지 않으면, 한국R사용자회 로고를 출력합니다.
logo_img <- "img/logo_jowoncni.png"
ruler_color <- "blue" 

if (!is.null(logo_img)) {
  base64_logo <- knitr::image_uri(logo_img)
  
  ruler_file <- file.path(system.file(package = "bitReport"), "resources", "image", 
                          glue::glue("header-ruler-left-{ruler_color}.svg"))
  base64_ruler <- knitr::image_uri(ruler_file)
  
  str_css <- paste0(str_css,
    ".pagedjs_page.pagedjs_first_page {
        background-image: url('", base64_logo, "'), url('", base64_ruler, "') !important;
        background-repeat: no-repeat, no-repeat;
        background-position: 13mm 3mm, 15mm 28mm;
        background-size: 50mm, 180mm;
    }
    
    ")
}
```


```{r create-reportno, echo=FALSE, message=FALSE, warning=FALSE}
##==============================================================================
## Report NO 정의
##==============================================================================
str_css <- paste0(str_css, 
".pagedjs_page.pagedjs_first_page .pagedjs_margin-top-left>.pagedjs_margin-content::after {
    content: 'Jowon AI Report, Report No: ", params$reportno, "' !important;
}

a {
  string-set: pagedjs-anchor-target attr(href);
}

a::after {
  content: ''!important;
}

h1 {
  font-size: 2.1em;
}

h2 {
  font-size: 1.7em;
  margin-top: 1.0em;
}

h3 {
  font-size: 1.4em;
  margin-top: 1.5em;
}

/* 바깥 리스트: 사각형 마커 */
ul, ol {
  list-style-type: square;
}

/* 안쪽 리스트: 속이 빈 원 */
ul ul, ol ul, ul ol, ol ol {
  list-style-type: circle;
}

")

bitReport::str2css(str_css)
```


```{r prompt, echo=FALSE, cache = TRUE}
system_prompt <- "당신은 여론조사 전문가로서 마크다운으로 보고서를 만듭니다. 중요한 내용은 볼드체로 표현합니다. 그리고 제시한 토픽은 마크다운 헤더로 표현해 주세요."

messages <- "한국 여론조사 시장의 현황을 분석하는 보고서를 작성해줘. 다음 조건을 반드시 반영해.\n\n
보고서 구조: 서론 → 시장 개요 → 주요 기관 및 점유율 → 조사방법론 변화 및 트렌드 → 신뢰도 및 주요 이슈 → 제언 및 결론 순으로 구성해.
핵심 내용:
주요 여론조사 기관(한국갤럽, 한국리서치, 리얼미터, 엠브레인퍼블릭 등)의 현황과 시장 경쟁 구조
조사방법(전화면접, ARS, 온라인조사)의 변화 및 응답률 저하, 표본 대표성 문제
여론조사 신뢰도 논란, 공직선거법 등 제도적 규제, 주요 논란 사례 포함
근거 기반: 2021~2025년 사이 발표된 기사, 보고서, 통계, 언론보도 등 실제 자료를 요약해 서술해. (예: 등록된 조사회사 수 증가, 응답률 6% 수준 등 수치 활용)
분석 관점: 시장 구조 변화와 신뢰도 하락 요인을 균형 있게 설명하고, 향후 개선방향(방법론·제도·기술) 제언 포함.
형식: 객관적·정책보고서 스타일로 작성하고, 각 장은 간결한 문단과 명확한 소제목을 포함할 것.
\n\n\n불릿 형식이 아니라 격식 있는 경어체 서술형 문장으로 작성해 주세요."
```


```{r chatgpt, echo=FALSE, cache = TRUE, message=FALSE, warning=FALSE}
chat_from_chatgpt <- chat_openai(
  model = "gpt-5",
  system_prompt = system_prompt
  )
. <- chat_from_chatgpt$chat(messages, echo = FALSE)
```


# 들어가기 {-}

:::{.roundbox-violet}

**[AI 데스크 리서치]{.orange}** 시리즈 보고서는 **[한국R사용자회의 디지털 저작 솔루션인 bitReport]{.blue}**의 생성형 AI 연동 기능을 활용하여 **[자동 생성]{.blue}**됩니다.

:::

**[생성형 AI 모델]{.blue}**은 관심 토픽에 대한 **[데스크 리서치 자료 수집]{.blue}**에 도움을 줍니다. 이렇게 수집된 여러 모델 결과의 집단 지성을 이용해 **[공통적이고 핵심적인 내용을 또 다시 AI로 요약]{.blue}** 제공하고자 합니다. 
<p style="font-size:10px">[생성형 AI 모델은 다소 실수할 수 있습니다. 중요한 정보는 확인하세요.]{.grey}</p>

## 사용한 생성형 AI 모델 {#models}

```{r models, echo=FALSE}
data.frame(
  company = c("OpenAI"),
  model = c("ChatGPT"),
  version = c("gpt-5"),
  goto = c("https://chatgpt.com/")
) |> 
  select(`회사` = company, `모델` = model, 
         `모델 버전` = version, `홈페이지` = goto) |> 
knitr::kable(table.attr = "class=\"table table-striped-theme\"",
             format.args = list(big.mark = ','),
             format = "html",
             caption = "보고서에 사용한 생성형 AI 모델") 
```

## 적용 프롬프트

**[한국 여론조사 시장의 현황]{.blue}** 보고서 작성을 위해 다음과 같은 프롬프트(요약)를 사용했습니다.

- 한국 여론조사 시장의 현황을 분석하는 보고서:
  1. 주요 여론조사 기관 현황과 시장 경쟁 구조
  2. 조사방법 변화 및 응답률 저하, 표본 대표성 문제 
  3. 여론조사 신뢰도 논란, 공직선거법 등 제도적 규제, 주요 논란 사례 포함


## 보고서에 사용한 모델 토큰 현황 {#tokens}

```{r tokens, echo=FALSE}
chat_from_chatgpt$get_tokens() |> 
knitr::kable(table.attr = "class=\"table table-striped-theme\"",
             format.args = list(big.mark = ','),
             format = "html",
             caption = "생성형 AI 모델에 사용된 토큰 현황") 
```

:::{.page-break}
:::


```{r, echo=FALSE, results='asis'}
trim_before_string(chat2markdown(chat_from_chatgpt), "\n\n") |> cat()
```





